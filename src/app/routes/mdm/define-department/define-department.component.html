<pro-header></pro-header>

<form [formGroup]="form">

    <div nz-row [nzGutter]="16">
        <div nz-col [nzMd]="24">

            <nz-card>
                <nz-card-tab nzTabHeading="查询">
                    <div nz-form-item nz-row [nzGutter]="8" class="mb-md">
                        <formly-form [model]="queryModel" [fields]="formFeild0" [options]="options" [form]="queryForm">
                        </formly-form>
                    </div>

                    <div class="mb-md" nz-row>
                        <div nz-col [nzSpan]="24" class="text-left">
                            <button nz-button [nzType]="'primary'" (click)="_search()" [nzSize]="'large'">查询</button>
                            <button nz-button (click)="resetForm()" class="mx-sm" [nzSize]="'large'">重置</button>
                        </div>
                    </div>

                    <nz-table [nzDataSource]="advancedOperation3" [nzIsPagination]="true">
                        <thead nz-thead>
                            <tr>
                                <th nz-th><span>编号</span></th>
                                <th nz-th><span>部门编码</span></th>
                                <th nz-th><span>部门名称</span></th>
                                <th nz-th><span>公司编码</span></th>
                                <th nz-th><span>公司名称</span></th>
                                <th nz-th><span>是否有效</span></th>
                                <th nz-th><span>录入人</span></th>
                                <th nz-th><span>录入时间</span></th>
                                <th nz-th><span>操作</span></th>
                            </tr>
                        </thead>
                        <tbody nz-tbody>
                            <tr nz-tbody-tr *ngFor="let i of advancedOperation3">
                                <td nz-td>{{i.index}}</td>
                                <td nz-td>{{i.deptId}}</td>
                                <td nz-td>{{i.deptName}}</td>
                                <td nz-td>{{i.companyId}}</td>
                                <td nz-td>{{i.companyName}}</td>
                                <td nz-td>
                                    <nz-badge *ngIf="i.isValid === 'success'" [nzStatus]="'success'" [nzText]="'成功'"></nz-badge>
                                    <nz-badge *ngIf="i.isValid !== 'success'" [nzStatus]="'processing'" [nzText]="'进行中'"></nz-badge>
                                </td>
                                <td nz-td>{{i.updatedAt | _date}}</td>
                                <td nz-td>{{i.memo}}</td>
                            </tr>
                        </tbody>
                    </nz-table>
                </nz-card-tab>

                <nz-card-tab nzTabHeading="编辑">
                    <div nz-form-item nz-row [nzGutter]="8">
                        <formly-form [model]="editModel" [fields]="formFeild1" [options]="options" [form]="editForm">
                        </formly-form>
                    </div>
                </nz-card-tab>
            </nz-card>

        </div>
    </div>

    <footer-toolbar errorCollect style="z-index: 0">
        <button nz-button [nzType]="'primary'" [disabled]="!form.valid" nzSize="large">提交</button>
    </footer-toolbar>

</form>
